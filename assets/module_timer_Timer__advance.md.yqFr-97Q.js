import{k as A,S as T}from"./chunks/Subject.S6NvqjeN.js";import{d as C,am as B,k as b,l as _,A as S,_ as f,o as d,c as g,m as h,t as r,q as v,s as x,I as w,U as c}from"./chunks/framework.WU9gZgzV.js";const M=(a,s=540)=>{const i=new Date(a),n=(i.getTimezoneOffset()+s)*60*1e3;return new Date(i.getTime()+n)};class o{constructor(s={}){this.fallbackLoose=!0,this.fallbackLooseTimeout=1e3,this.timer=null,this.timerLoose=null,this.timezoneOffset=540,this.startAt=0,this.executeAt=0,this.executedAt=0,this.executeGap=0,this.executeSafeGap=10,this.isDestroy=!1;const{fallbackLoose:i=!0,fallbackLooseTimeout:n,timezoneOffset:t}=s;this.fallbackLoose=i,n&&(this.fallbackLooseTimeout=n),t&&(this.timezoneOffset=t),this.subject=new A,this.observable=this.subject.asObservable()}nowDate(){return M(Date.now(),this.timezoneOffset)}nowAt(){return this.nowDate().getTime()}getStartAt(){return this.startAt}getExecuteGap(){return this.executeGap}setExecuteSafeGap(s){this.executeSafeGap=s}executeTimout(){clearTimeout(this.timer);const s=this.nowDate(),i=this.getNextGap(s)+this.executeSafeGap;this.executeAt=s.getTime(),this.executeGap=this.executeAt-this.startAt,this.timer=setTimeout(()=>{this.dispatch(),this.executeTimout()},i),this.fallbackLoose&&(this.timerLoose=setTimeout(()=>{this.dispatch()},i+this.fallbackLooseTimeout))}getNextGap(s){return 1e3-s.getMilliseconds()}isTargetChanged(){return!1}dispatch(){this.isDestroy||this.isTargetChanged()&&(this.executedAt=this.nowDate().getTime(),this.executeGap=this.executedAt-this.startAt,this.subject.next())}observe(){return this.observable}start(){this.startAt=this.nowAt(),this.executeTimout()}stop(){clearTimeout(this.timer),clearTimeout(this.timerLoose)}destroy(){this.stop(),this.isDestroy=!0,this.subject.unsubscribe()}}class G extends o{constructor(){super(...arguments),this.fallbackLooseTimeout=1e3}getNextGap(s){return 6e4-(s.getSeconds()*1e3+s.getMilliseconds())}isTargetChanged(){return new Date(this.executeAt).getMinutes()!==new Date(this.nowAt()).getMinutes()}}class L extends o{constructor(){super(...arguments),this.fallbackLooseTimeout=200}getNextGap(s){return 1e3-s.getMilliseconds()}isTargetChanged(){return new Date(this.executeAt).getSeconds()!==new Date(this.nowAt()).getSeconds()}}const q=C({setup(){const a=Date.now(),s=new L,i=new G,n=new T,t=B({secondDate:null,minuteDate:null}),k=b(()=>{const{secondDate:e,minuteDate:l}=t,m=(e==null?void 0:e.toLocaleString())||"",D=(l==null?void 0:l.toLocaleString())||"";return{labelSecondTimer:m,labelMinuteTimer:D}}),F=()=>{p()},u=()=>{E()},p=()=>{const e=a+s.getExecuteGap();t.secondDate=new Date(e)},E=()=>{const e=a+i.getExecuteGap();t.minuteDate=new Date(e)};return _(()=>{n.add(s.observe().subscribe(F)),s.start(),n.add(i.observe().subscribe(u)),i.start(),p(),E()}),S(()=>{s.stop(),i.stop(),n.unsubscribe()}),{state:t,viewState:k}}}),y=a=>(v("data-v-cce4cdf1"),a=a(),x(),a),I={class:"times"},U={class:"time"},N=y(()=>h("dt",null,"SecondTimer",-1)),O={class:"time"},P=y(()=>h("dt",null,"MinuteTimer",-1));function j(a,s,i,n,t,k){return d(),g("div",null,[h("div",I,[h("dl",U,[N,h("dd",null,r(a.viewState.labelSecondTimer),1)]),h("dl",O,[P,h("dd",null,r(a.viewState.labelMinuteTimer),1)])])])}const z=f(q,[["render",j],["__scopeId","data-v-cce4cdf1"]]),V=c('<h1 id="timer" tabindex="-1">Timer <a class="header-anchor" href="#timer" aria-label="Permalink to &quot;Timer&quot;">â€‹</a></h1><ul><li>UI ì—ì„œ ì‹œê°„ ê´€ë ¨ í‘œì‹œë¥¼ í•˜ê²Œ ë˜ëŠ” ê²½ìš°ê°€ ì¢…ì¢… ìˆìŠµë‹ˆë‹¤.</li><li>javascript ì˜ setTimeout, setInterval ì€ ì •í™•í•œ ì‹¤í–‰ ì‹œê°„ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li><li>Timer ì—­ì‹œ ì •í™•í•œ ì‹¤í–‰ ì‹œì ì„ ë³´ì¥í•˜ê¸´ ì–´ë ¤ìš°ë‚˜, (ì–´ëŠì •ë„)ì´ˆ/ë¶„ ë‹¨ìœ„ ì‹¤í–‰ ì‹œê°„ì´ ë³´ì¥ ë˜ë„ë¡ setTimeout ì„ ë³´ì™„í•©ë‹ˆë‹¤.</li><li><strong>Timer ëŠ” ì‹œê°„ì„ ì¶œë ¥í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹ˆë¼ ì •í•´ì§„ ê°„ê²© ë§ˆë‹¤ ì•Œë¦¼ì„ ì£¼ê¸° ìœ„í•œ ìš©ë„ë¡œ ë§Œë“¤ì–´ ì¡ŒìŠµë‹ˆë‹¤.</strong></li></ul><h2 id="á„ƒá…¦á„†á…©" tabindex="-1">ë°ëª¨ <a class="header-anchor" href="#á„ƒá…¦á„†á…©" aria-label="Permalink to &quot;ë°ëª¨&quot;">â€‹</a></h2><p>SecondTimer ì™€ MinuteTimer ì˜ ê°„ë‹¨í•œ ì‚¬ìš©ì˜ˆ ì…ë‹ˆë‹¤.</p>',4),$=c(`<p>ğŸ’¡ <strong>ì•„ë˜ ì½”ë“œë¥¼ ì‚´í´ë³´ê¸° ì „ ì°¸ê³ í•˜ì„¸ìš”.</strong></p><ul><li>SecondTimer ì™€ MinuteTimer ì˜ ì°¨ì´ëŠ” ì‹¤í–‰ ê°„ê²©ì˜ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤. SecondTimer ëŠ” 1ì´ˆ, MinuteTimer ëŠ” 1ë¶„ì˜ ê°„ê²©ìœ¼ë¡œ ì‹¤í–‰ ë©ë‹ˆë‹¤.</li><li>Timer ëŠ” ì‹œê°„ì„ ì¶œë ¥í•˜ê¸° ìœ„í•¨ì´ ì•„ë‹ˆë¼ ì •í•´ì§„ ê°„ê²© ë§ˆë‹¤ ì•Œë¦¼ì„ ì£¼ê¸° ìœ„í•œ ìš©ë„ë¡œ ë§Œë“¤ì–´ ì¡ŒìŠµë‹ˆë‹¤.</li><li>ë¸Œë¼ìš°ì €ì˜ ë¹„í™œì„±í™”(sleep) ìƒíƒœì™€ ê°™ì´ íƒ€ì´ë¨¸ì˜ ì—…ë°ì´íŠ¸ê°€ í™”ë©´ì— í‘œì‹œê°€ ëœë‹¤ëŠ”ê²ƒì„ ë³´ì¥í•˜ê¸° ì–´ë ¤ìš´ ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. SecondTimer ì˜ ê²½ìš° ì‹¤í–‰ ê°„ê²©ì´ ì§§ê¸° ë•Œë¬¸ì— ê¸ˆìƒˆ í™”ë©´ì´ ì—…ë°ì´íŠ¸ ë˜ì–´ ë¬¸ì œë¥¼ ì•Œì•„ì°¨ë¦¬ê¸° ì–´ë µì§€ë§Œ, MinuteTimer ì˜ ê²½ìš° ì‹¤í–‰ ê°„ê²©ì´ ê¸¸ê¸° ë•Œë¬¸ì— ë¹„í™œì„± ìƒíƒœì— ë¹ ì ¸ìˆë˜ ê²½ìš° í™”ë©´ì— ì—…ë°ì´íŠ¸ ë˜ê¸°ê¹Œì§€ MinuteTimer ì˜ ì‹¤í–‰ ê°„ê²©ì¸ ìµœëŒ€ 1ë¶„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ Visibility API ì™€ ê°™ì´ í™”ë©´ì´ í™œì„±í™” ë˜ëŠ” ì‹œì ì„ í•  ìˆ˜ ìˆë‹¤ë©´ ì§ì ‘ ì—…ë°ì´íŠ¸ë¥¼ í•´ì£¼ëŠ”ê²ƒë„ ì¢‹ìŠµë‹ˆë‹¤.</li></ul><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;times&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;SecondTimer&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ viewState.labelSecondTimer }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dl</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;time&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;MinuteTimer&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ viewState.labelMinuteTimer }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dd</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">dl</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { computed, defineComponent, onMounted, onUnmounted, reactive } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { SecondTimer, MinuteTimer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@jood/helpdesk-module/timer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Subscription } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;rxjs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> serverTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Date.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">now</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> secondTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> SecondTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> minuteTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MinuteTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> listener</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Subscription</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reactive</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secondDate: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      minuteDate: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> viewState</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">secondDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">minuteDate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> labelSecondTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> secondDate?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLocaleString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> labelMinuteTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minuteDate?.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toLocaleString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        labelSecondTimer,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        labelMinuteTimer,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onSecondUpdated</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      updateSecondTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onMinuteUpdated</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      updateMinuteTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateSecondTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timeAt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverTime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> secondTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExecuteGap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state.secondDate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeAt);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateMinuteTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timeAt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverTime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> minuteTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExecuteGap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state.minuteDate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeAt);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onMounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(secondTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(onSecondUpdated));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secondTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(minuteTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">observe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(onMinuteUpdated));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      minuteTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      updateSecondTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      updateMinuteTimer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    onUnmounted</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      secondTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      minuteTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      listener.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">unsubscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      state,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      viewState,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>ì‹œê°„ ì¶œë ¥ì„ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë¶€ë¶„ì„ ì‚´í´ë³´ì„¸ìš”. <code>getExecuteGap</code> ì€ Timer ê°€ start ëœ í›„ ì§€ë‚˜ê°„ ì‹œê°„ ì…ë‹ˆë‹¤.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateSecondTimer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> timeAt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> serverTime </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> secondTimer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getExecuteGap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  state.secondDate </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(timeAt);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>í´ë¼ì´ì–¸íŠ¸ ì‹œê°„ë§Œìœ¼ë¡œëŠ” PC/ë””ë°”ì´ìŠ¤ ì‹œê°„ ì„¤ì •ì— ì˜í–¥ì„ ë°›ëŠ” ë¬¸ì œë¡œ (ë°ëª¨ì—ì„œëŠ” Date.now() ë¥¼ ì‚¬ìš©í–ˆì§€ë§Œ) serverTime ì„ ë‚´ë ¤ë°›ì€ ì‹œê°„ì„ ê¸°ì¤€ìœ¼ë¡œ ì¹´ìš´íŠ¸ ë‹¤ìš´ì„ í•œë‹¤ê±°ë‚˜ ì§€ë‚˜ê°„ ì‹œê°„ì„ í‘œì‹œí•˜ëŠ” ì‚¬ë¡€ëŠ” ì¢…ì¢… ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° <code>getExecuteGap</code> ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. timezone ê³¼ ê°™ì€ ë¬¸ì œë¥¼ ë‹¤ë£¨ëŠ”ê±´ ì‚¬ìš©ìì˜ ëª« ì…ë‹ˆë‹¤.</p>`,6),Z=JSON.parse('{"title":"Timer","description":"","frontmatter":{},"headers":[],"relativePath":"module/timer/Timer__advance.md","filePath":"module/timer/Timer__advance.md"}'),R={name:"module/timer/Timer__advance.md"},H=Object.assign(R,{setup(a){return(s,i)=>(d(),g("div",null,[V,w(z),$]))}});export{Z as __pageData,H as default};
