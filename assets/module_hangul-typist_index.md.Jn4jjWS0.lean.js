import{d as f,h as _,am as q,o as D,c as m,m as k,t as y,ak as F,aD as C,a as b,q as T,s as v,_ as I,I as M,U as A}from"./chunks/framework.WU9gZgzV.js";import{k as S}from"./chunks/Subject.S6NvqjeN.js";const x=Object.freeze(["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),w=Object.freeze(["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"]),R=Object.freeze(["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"]),o=44032,P=55203;x.length;const O=w.length,r=R.length,u=O*r;function j(a){return a.codePointAt(0)}function g(a){return String.fromCodePoint(a)}function U(a){const i=[...a][0],s=j(i),n=[];if(o<=s&&s<=P){const d=Math.floor((s-o)/u),l=d*u+o,p=Math.floor((s-l)/r)*r+l,E=Math.floor((s-l)/r),h=s-p;let t=null,e=null;n.push(String(x[d])),9<=E&&E<=11?t=l+8*r:14<=E&&E<=16?t=l+13*r:E===19&&(t=l+18*r),t!==null&&n.push(g(t)),n.push(g(p)),h!=0&&(2<=h&&h<=3?e=p+1:5<=h&&h<=6?e=p+4:9<=h&&h<=15?e=p+8:h===18&&(e=p+17),e&&n.push(g(e)),n.push(i))}else s===32?n.push(" "):n.push(g(s));return n}function N(a){const i=[];return[...a].forEach(s=>{i.push(U(s))}),i}var c=(a=>(a.OUT_PUT="OUT_PUT",a.FINISHED="FINISHED",a))(c||{});function B(a){return new Promise(i=>{setTimeout(()=>{i(!0)},a)})}class z{constructor(){this.sourceTypingTotal=0,this.sourceFinished="",this.sourceOutput="",this.output="",this.processId=null,this.indexRow=0,this.indexColumn=0,this.indexTyping=0,this.speedMin=0,this.speedMax=100,this.delayByEquals=[],this.isPaused=!1,this.subject=new S}observe(){return this.subject.asObservable()}getState(){return{sourceMatrix:this.sourceMatrix,sourceTypingTotal:this.sourceTypingTotal,sourceFinished:this.sourceFinished,sourceOutput:this.sourceOutput,indexRow:this.indexRow,indexColumn:this.indexColumn,indexTyping:this.indexTyping,speedMin:this.speedMin,speedMax:this.speedMax,delayByEquals:this.delayByEquals,processId:this.processId,isPaused:this.isPaused}}setSourceMatrix(i){this.sourceMatrix=i,this.sourceFinished=i.map(s=>s[s.length-1]).flat().join(""),this.sourceTypingTotal=i.flat().length}setTypingSpeed(i=0,s=0){this.speedMin=Math.min(i,s),this.speedMax=Math.max(i,s)}getTypingSpeed(){return Math.random()*this.speedMax+this.speedMin}addDelayByEqual(i,s){this.findDelayByEqual(i)||this.delayByEquals.push({char:i,delay:s})}removeDelayByEqual(i){const s=this.findIndexDelayByEqual(i);0<s&&this.delayByEquals.splice(s,1)}findDelayByEqual(i){return this.delayByEquals.find(s=>s.char===i)}findIndexDelayByEqual(i){return this.delayByEquals.findIndex(s=>s.char===i)}async next(i){const s=this.sourceMatrix[this.indexRow],n=s.length,d=s[this.indexColumn],l=this.findDelayByEqual(d);await B(this.getTypingSpeed()),this.processId===i&&(this.output+=d,this.indexTyping++,this.dispatchType(c.OUT_PUT),l&&await B(l.delay),this.processId===i&&(this.indexColumn<n-1?(this.output=this.output.substring(0,this.output.length-1),this.indexColumn++):(this.indexRow++,this.indexColumn=0),this.sourceMatrix.length<=this.indexRow?this.dispatchType(c.FINISHED):this.isPaused||this.next(i)))}dispatchType(i){this.sourceOutput=this.output,this.subject.next({type:i,value:this.output,rowIndex:this.indexRow,columnIndex:this.indexColumn,typingIndex:this.indexTyping,typingTotal:this.sourceTypingTotal})}start(){this.isPaused=!1,this.indexRow=0,this.indexColumn=0,this.indexTyping=0,this.output="",this.processId++,this.next(this.processId)}pause(){this.isPaused=!0,this.processId++}resume(){this.isPaused&&(this.isPaused=!1,this.next(this.processId))}destroy(){this.processId=null,this.subject.unsubscribe(),this.subject=null}}const V=a=>(T("data-v-07466133"),a=a(),v(),a),H={class:"typist-container"},L={class:"output-area"},K={class:"count"},Z={class:"output"},$={class:"input-area"},W={class:"options"},J={class:"opt"},G=V(()=>k("dt",{class:"dt"},"입력 속도",-1)),Q={class:"dd"},X=["max"],Y=["min"],ss=f({__name:"ExampleManualTypist",setup(a){const i=_(`안녕하세요. Hello~ 😎
타이핑 애니메이션 입니다.`),s=q({output:"",typingIndex:0,typingTotal:0,min:40,max:60}),n=new z;n.observe().subscribe(E=>{const{value:h,typingTotal:t,typingIndex:e}=E;s.output=h,s.typingTotal=t,s.typingIndex=e});const d=()=>{n.setSourceMatrix(N(i.value)),n.setTypingSpeed(s.min,s.max),n.start()},l=()=>{n.pause()},p=()=>{n.resume()};return(E,h)=>(D(),m("div",H,[k("div",{class:"actions"},[k("button",{class:"action",onClick:d},"start"),k("button",{class:"action",onClick:l},"pause"),k("button",{class:"action",onClick:p},"resume")]),k("div",L,[k("div",K,y(s.typingIndex)+" / "+y(s.typingTotal),1),k("div",Z,y(s.output),1)]),k("div",$,[F(k("textarea",{class:"input","onUpdate:modelValue":h[0]||(h[0]=t=>i.value=t)},null,512),[[C,i.value]])]),k("div",W,[k("dl",J,[G,k("dd",Q,[F(k("input",{class:"speed-put",type:"number",min:0,max:s.max,"onUpdate:modelValue":h[1]||(h[1]=t=>s.min=t)},null,8,X),[[C,s.min]]),b(" ~ "),F(k("input",{class:"speed-put",type:"number",min:s.min,max:9e3,"onUpdate:modelValue":h[2]||(h[2]=t=>s.max=t)},null,8,Y),[[C,s.max]])])])])]))}}),is=I(ss,[["__scopeId","data-v-07466133"]]),as=A("",4),ns=A("",1),ls=JSON.parse('{"title":"hangul-typist","description":"","frontmatter":{},"headers":[],"relativePath":"module/hangul-typist/index.md","filePath":"module/hangul-typist/index.md"}'),hs={name:"module/hangul-typist/index.md"},ps=Object.assign(hs,{setup(a){return(i,s)=>(D(),m("div",null,[as,M(is),ns]))}});export{ls as __pageData,ps as default};
