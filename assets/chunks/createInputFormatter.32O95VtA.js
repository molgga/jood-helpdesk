const M=u=>{const{caretMoveMinPosition:d=1}=u,n={value:"",downKey:""};let t=null,l=()=>"",c=()=>{};const m=e=>{c=e},i=()=>{c(n.value)},v=()=>n.value,r=(e,o)=>{const f=(t==null?void 0:t.value)||"",h=(t==null?void 0:t.selectionStart)||0,a=l(e||"",o),y=o===a;n.value=a,t&&(t.value=a);let s=Math.max(d,h+(a.length-f.length));y&&n.downKey==="Backspace"&&(s=Math.max(0,s-1)),typeof requestAnimationFrame<"u"&&requestAnimationFrame(()=>{t==null||t.setSelectionRange(s,s),i()})};return{setElement:e=>{t=e},getValue:v,setValue:r,setFormatter:e=>{l=e},handleKeydown:e=>{n.downKey=e.key},handleInput:e=>{const o=e.target;r(o.value,n.value)},onUpdated:m,toNumber:e=>Number(e.replace(/[^0-9]/g,""))}};export{M as c};
